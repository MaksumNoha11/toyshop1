<!DOCTYPE html>
<html>
<head>
    <title>–ê–Ω—ñ–º–æ–≤–∞–Ω–∞ –º–∞—à–∏–Ω–∞</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="lesson27.css">
</head>

<h1><a href="https://www.instagram.com/svitigrashkovii/" target="_blank">–°–≤—ñ—Ç, –¥–µ –æ–∂–∏–≤–∞—é—Ç—å –º—Ä—ñ—ó! üåü</a></h1>

<div class="sun" id="sun"></div>
<div class="road"></div>
<div class="car" id="car">
    <svg viewBox="0 0 365 185">
        <rect x="70" y="10" width="220" height="130" fill="transparent" rx="150" stroke="crimson" stroke-width="10" />
        <rect x="10" y="70" width="340" height="80" fill="crimson" rx="30" />
        <line x1="145" y1="10" x2="145" y2="80" stroke="crimson" stroke-width="10" />
        <line x1="215" y1="10" x2="215" y2="80" stroke="crimson" stroke-width="10" />
        <circle r="40" fill="#222" stroke="white" stroke-width="7" cx="90" cy="140" />
        <circle r="15" fill="#555" cx="90" cy="140" />
        <circle r="40" fill="#222" stroke="white" stroke-width="7" cx="270" cy="140" />
        <circle r="15" fill="#555" cx="270" cy="140" />
        <circle id="headlight" r="15" fill="gold" cx="340" cy="90" />
    </svg>
</div>

<div class="controls">
    <button id="startBtn">–°—Ç–∞—Ä—Ç</button>
    <button id="stopBtn">–°—Ç–æ–ø</button>
    <button id="nightModeBtn">–ù—ñ—á–Ω–∏–π —Ä–µ–∂–∏–º</button>
</div>

<div class="cloud" id="cloud1" style="left: 100px;"></div>
<div class="cloud" id="cloud2" style="left: 400px; top: 80px;"></div>
<div class="cloud" id="cloud3" style="left: 700px; top: 40px;"></div>

<script>
    var car = document.getElementById('car');
    var startBtn = document.getElementById('startBtn');
    var stopBtn = document.getElementById('stopBtn');
    var nightModeBtn = document.getElementById('nightModeBtn');
    var headlight = document.getElementById('headlight');
    var sun = document.getElementById('sun');
    var animation;
    var position = 0;
    var speed = 30;
    var isMoving = false;
    var nightMode = false;

    function moveCar() {
        position += speed;
        if (position > window.innerWidth) {
            position = -365;
        }
        car.style.left = position + 'px';
        car.style.transform = `translateY(${Math.sin(position / 50) * 5}px)`;
    }

    function stopMoving() {
        clearInterval(animation);
        isMoving = false;
    }

    function startMoving() {
        speed += 2;
        if (!isMoving) {
            animation = setInterval(moveCar, 50);
            isMoving = true;
        }
    }

    startBtn.addEventListener('click', () => {
        startMoving();
    });

    stopBtn.addEventListener('click', () => {
        stopMoving();
    });

    nightModeBtn.addEventListener('click', () => {
        nightMode = !nightMode;
        document.body.style.background = nightMode ? '#1a1a2e' : '#3ea1cb';
        sun.style.top = nightMode ? '500px' : '50px';

        if (nightMode) {
            headlight.setAttribute('fill', 'yellow'); // –í–∫–ª—é—á–∞—î–º–æ —Ñ–∞—Ä–∏ –≤ –Ω—ñ—á–Ω–æ–º—É —Ä–µ–∂–∏–º—ñ
            document.body.classList.add('night-mode');
            document.body.classList.remove('day-mode');
        } else {
            headlight.setAttribute('fill', 'gold'); // –í–∏–º–∏–∫–∞—î–º–æ —Ñ–∞—Ä–∏ –ø—Ä–∏ –¥–µ–Ω–Ω–æ–º—É —Ä–µ–∂–∏–º—ñ
            document.body.classList.remove('night-mode');
            document.body.classList.add('day-mode');
        }
    });
</script>



</body>
</html>

